<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="2nd Graded">
    <meta name="keywords" content="2nd, Graded, HTML">
    <meta name="author" content="Lala Pauig">
    
    <title>3rd Graded Q3</title>
    <script src="./2ndgraded.js" defer></script>
    <link rel="stylesheet" href="styles.css">
</head>

<style>
.maincontainer{
    max-width: 1000px;
    margin-left: auto;
    margin-right: auto;
    padding-left: 20px;
    padding-right: 20px;
    width: 100%;
    background-color:cornflowerblue;
    border-style: dotted;
    border-color: crimson;
    color: white;}
</style>

<body style="background-color: lemonchiffon;">
    <h1>Show List of Students Who Signed Up</h1>
    <h3>by Leonella Agnelly Pauig, 9-Mg</h3>
    <a href="Q3_2GMgPAUIG.html">Back to Sign Up Page</a>
    <div class="maincontainer">
        <table>
            <thead>
                <tr>
                    <th>Student ID</th>
                    <th>Full Name</th>
                    <th>Email Address</th>
                    <th>Mobile Phone</th>
                    <th>Grade Level</th>
                    <th>Externals/Internals</th>
                </tr>
            </thead>
            <tbody id="list">
                
            </tbody>
        </table>

</body>

<script>
const key = 'students';

function loadInfo(){
    const raw = localStorage.getItem(key);
    //to check if raw is not null or undefined. From sir Roy's code!!
    if(raw){
        return JSON.parse(raw);
    }
    else{
        return[];
    }
}

function displayInfo(){
    const info = loadInfo();
    const list = document.getElementById('list');
    //no info inputted yet into the form
    if(info.length == 0){
        list.innerHTML = '<li><p>No students have signed up yet.</p></li>';
        return;
    }
    //To input the info from the form to the table
    let output = "";
    for(let i = 0; i < info.length; i++){
        const student = info[i];
         output += `<tr>
            <td>${student.club}</td>
            <td>${student.id}</td>
            <td>${student.name}</td>
            <td>${student.email}</td>
            <td>${student.number}</td>
            <td>${student.level}</td> 
            <td>${student.exintern}</td> 
        </tr>`; 
    }
    list.innerHTML = output;
}

displayInfo();


</script>